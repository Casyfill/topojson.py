{"ts":1376677659892,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var type = require(\"./type\");\n\nmodule.exports = function(objects, options) {\n  var verbose = false;\n\n  if (options && \"verbose\" in options) {\n    verbose = !!options.verbose;\n  }\n\n  var stitch = type({\n    polygon: function(polygon) {\n      for (var j = 0, m = polygon.length; j < m; ++j) {\n        var line = polygon[j];\n        var i = -1;\n        var n = line.length;\n        var a = false;\n        var b = false;\n        var c = false;\n        var i0 = -1;\n        for (i = 0; i < n; ++i) {\n          var point = line[i],\n              antimeridian = Math.abs(Math.abs(point[0]) - 180) < 1e-2,\n              polar = Math.abs(Math.abs(point[1]) - 90) < 1e-2;\n          if (antimeridian || polar) {\n            if (!(a || b || c)) {\n              i0 = i;\n            }\n            if (antimeridian) {\n              if (a) {\n                c = true;\n              } else {\n                a = true;\n              }\n            }\n            if (polar) {\n              b = true;\n            }\n          }\n          if (!antimeridian && !polar || i === n - 1) {\n            if (a && b && c) {\n              if (verbose) {\n                console.warn(\"stitch: removed polar cut [\" + line[i0] + \"] â€¦ [\" + line[i] + \"]\");\n              }\n              line.splice(i0, i - i0);\n              n -= i - i0;\n              i = i0;\n            }\n            a = b = c = false;\n          }\n        }\n      }\n    }\n  });\n\n  for (var key in objects) {\n    stitch.object(objects[key]);\n  }\n};\n"]],"start1":0,"start2":0,"length1":0,"length2":1481}]],"length":1481}
